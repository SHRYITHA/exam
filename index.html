<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Class Study Resources</title>
  <style>
    /* Reset */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f4f6f9;
      color: #333;
      line-height: 1.6;
      transition: background 0.3s, color 0.3s;
    }

    /* Header */
    header {
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: #fff;
      text-align: center;
      padding: 1.5rem 1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }
    header h1 { font-size: 2.2rem; margin-bottom: 0.5rem; }
    header p { font-size: 1rem; opacity: 0.9; }

    /* Search bar */
    .search-bar { margin: 1rem auto; text-align: center; }
    .search-bar input {
      width: 60%; max-width: 400px; padding: 0.6rem;
      border: 2px solid #2980b9; border-radius: 30px;
      outline: none; font-size: 1rem;
    }

    /* Main content */
    main { max-width: 1000px; margin: 2rem auto; padding: 1rem; }
    section { margin-bottom: 2rem; }
    section h2 {
      background: #2980b9; color: #fff; padding: 0.8rem 1rem;
      border-radius: 8px; cursor: pointer; font-size: 1.3rem;
    }

    ul {
      list-style: none; margin-top: 1rem; padding-left: 1rem;
      max-height: 0; overflow: hidden;
      transition: max-height 0.4s ease;
    }
    ul.show { max-height: 500px; }

    li {
      margin: 0.6rem 0; padding: 0.6rem;
      background: #ecf0f1; border-radius: 5px;
      transition: background 0.3s ease; display: flex; justify-content: space-between; align-items: center;
    }
    li:hover { background: #d6e4f0; }

    a { text-decoration: none; color: #2980b9; font-weight: bold; }
    a:hover { text-decoration: underline; }

    .fav-btn {
      cursor: pointer; background: none; border: none; font-size: 1.1rem;
    }
    .fav-btn:hover { color: #e67e22; }

    mark { background: yellow; color: black; padding: 0 2px; }

    /* Footer */
    footer {
      text-align: center; padding: 1rem;
      background: #2c3e50; color: white;
      margin-top: 2rem; border-top: 4px solid #2980b9;
    }

    /* Floating buttons */
    #topBtn, #themeToggle {
      position: fixed; border: none; padding: 10px 15px;
      border-radius: 50%; background: #2980b9; color: white;
      font-size: 1.2rem; cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2); transition: background 0.3s;
    }
    #topBtn:hover, #themeToggle:hover { background: #1c5985; }
    #topBtn { bottom: 20px; right: 20px; display: none; }
    #themeToggle {
      top: 20px; right: 20px;
      border-radius: 8px; padding: 8px 12px;
    }

    /* Dark mode */
    body.dark { background: #121212; color: #eee; }
    body.dark section h2 { background: #444; }
    body.dark li { background: #222; }
    body.dark footer { background: #111; border-top-color: #444; }
  </style>
</head>
<body>
  <header>
    <h1>üìö Class Study Resources</h1>
    <p>One-stop hub for all your learning needs</p>
  </header>

  <!-- Dark Mode Toggle -->
  <button id="themeToggle">üåô</button>

  <!-- Search Bar -->
  <div class="search-bar">
    <input type="text" id="search" placeholder="üîé Search resources...">
  </div>

  <main>
    <!-- Favorites -->
    <section>
      <h2 onclick="toggleList(this)">‚≠ê Favorites / Quick Access</h2>
      <ul id="favorites"></ul>
    </section>

    <!-- General Learning -->
    <section>
      <h2 onclick="toggleList(this)">üåç General Learning</h2>
      <ul>
        <li><a href="https://www.wikipedia.org/" target="_blank">Wikipedia</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.ted.com/" target="_blank">TED Talks</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.brainpickings.org/" target="_blank">Brain Pickings</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.openlibrary.org/" target="_blank">Open Library</a> <button class="fav-btn">‚≠ê</button></li>
      </ul>
    </section>

    <!-- Science -->
    <section>
      <h2 onclick="toggleList(this)">üî¨ Science</h2>
      <ul>
        <li><a href="https://www.nationalgeographic.com/" target="_blank">National Geographic</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.scientificamerican.com/" target="_blank">Scientific American</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.nasa.gov/" target="_blank">NASA</a> <button class="fav-btn">‚≠ê</button></li>
      </ul>
    </section>

    <!-- Math -->
    <section>
      <h2 onclick="toggleList(this)">‚ûó Math</h2>
      <ul>
        <li><a href="https://www.khanacademy.org/math" target="_blank">Khan Academy Math</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://brilliant.org/" target="_blank">Brilliant</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.desmos.com/" target="_blank">Desmos Graphing Calculator</a> <button class="fav-btn">‚≠ê</button></li>
      </ul>
    </section>

    <!-- Coding -->
    <section>
      <h2 onclick="toggleList(this)">üíª Coding</h2>
      <ul>
        <li><a href="https://www.codecademy.com/" target="_blank">Codecademy</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.freecodecamp.org/" target="_blank">freeCodeCamp</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.w3schools.com/" target="_blank">W3Schools</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://stackoverflow.com/" target="_blank">Stack Overflow</a> <button class="fav-btn">‚≠ê</button></li>
      </ul>
    </section>

    <!-- Languages -->
    <section>
      <h2 onclick="toggleList(this)">üó£ Languages</h2>
      <ul>
        <li><a href="https://www.duolingo.com/" target="_blank">Duolingo</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.memrise.com/" target="_blank">Memrise</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://www.busuu.com/" target="_blank">Busuu</a> <button class="fav-btn">‚≠ê</button></li>
      </ul>
    </section>

    <!-- Productivity -->
    <section>
      <h2 onclick="toggleList(this)">‚ö° Productivity & Tools</h2>
      <ul>
        <li><a href="https://evernote.com/" target="_blank">Evernote</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://notion.so/" target="_blank">Notion</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://trello.com/" target="_blank">Trello</a> <button class="fav-btn">‚≠ê</button></li>
        <li><a href="https://slack.com/" target="_blank">Slack</a> <button class="fav-btn">‚≠ê</button></li>
      </ul>
    </section>
  </main>

  <footer>
    &copy; 2025 Class Resource Page | Made with ‚ù§ for learning
  </footer>

  <!-- Back to Top -->
  <button id="topBtn">‚¨Ü</button>

  <script>
    // Toggle sections
    function toggleList(header) {
      const list = header.nextElementSibling;
      list.classList.toggle("show");
    }

    // Search functionality with highlight
    document.getElementById("search").addEventListener("input", function() {
      const filter = this.value.toLowerCase();
      document.querySelectorAll("section ul li").forEach(li => {
        const text = li.textContent.replace("‚≠ê", "").trim();
        const link = li.querySelector("a");
        if (text.toLowerCase().includes(filter)) {
          li.style.display = "flex";
          const regex = new RegExp(filter, "gi");
          // highlight match (FIXED)
          link.innerHTML = link.textContent.replace(regex, match => <mark>${match}</mark>);
        } else {
          li.style.display = "none";
        }
      });
    });

    // Back to top button
    const topBtn = document.getElementById("topBtn");
    window.onscroll = () => {
      topBtn.style.display = window.scrollY > 200 ? "block" : "none";
    };
    topBtn.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });

    // Dark mode toggle
    document.getElementById("themeToggle").addEventListener("click", () => {
      document.body.classList.toggle("dark");
      document.getElementById("themeToggle").textContent =
        document.body.classList.contains("dark") ? "‚òÄ" : "üåô";
    });

    // Favorites functionality (with remove + no duplicates)
    const favList = document.getElementById("favorites");

    document.querySelectorAll(".fav-btn").forEach(btn => {
      btn.addEventListener("click", function() {
        const li = this.parentElement;
        const link = li.querySelector("a").href;

        // Prevent duplicates
        if ([...favList.querySelectorAll("a")].some(a => a.href === link)) {
          return;
        }

        const favItem = li.cloneNode(true);

        // Change ‚≠ê to ‚ùå in favorites
        const favBtn = favItem.querySelector(".fav-btn");
        favBtn.textContent = "‚ùå";
        favBtn.onclick = function() {
          favItem.remove();
        };

        favList.appendChild(favItem);
        favList.classList.add("show");
      });
    });
  </script>
</body>
</html>